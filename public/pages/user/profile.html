<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crowd Trust - Profile</title>
  <link rel="stylesheet" href="../../styles/style.css" />
</head>

<body>
  <main class="profile-container">
    <h1 id="hey-message">Welcome to Your Profile</h1>

    <!-- Navigation Tabs -->
    <nav class="profile-nav">
      <button class="nav-tab" data-tab="settings">Settings</button>
      <button class="nav-tab" data-tab="campaigns" style="display: none;">My Campaigns</button>
      <button class="nav-tab" data-tab="pledges" style="display: none;">My Pledges</button>
    </nav>

    <!-- Settings Section -->
    <section class="profile-tab" id="settings-tab">
      <section class="profile-section" id="user-details-section">
        <h2>User Details</h2>
        <div id="user-details">
          <p><strong>Name:</strong> <span id="user-name"></span></p>
          <p><strong>Email:</strong> <span id="user-email"></span></p>
          <p><strong>Role:</strong> <span id="user-role"></span></p>
        </div>
      </section>
      <!-- Email Section -->
      <section class="profile-section" id="email-section">
        <h2>Change Email</h2>
        <form id="email-form">
          <label for="new-email">New Email:</label>
          <input type="email" id="new-email" name="newEmail" required />
          <label for="current-password-email">Current Password:</label>
          <input type="password" id="current-password-email" name="currentPasswordEmail" required />
          <button type="submit">Update Email</button>
        </form>
        <p id="email-feedback" class="feedback"></p>
      </section>

      <!-- Password Section -->
      <section class="profile-section" id="password-section">
        <h2>Change Password</h2>
        <form id="password-form">
          <label for="current-password">Current Password:</label>
          <input type="password" id="current-password" name="currentPassword" required />

          <label for="new-password">New Password:</label>
          <input type="password" id="new-password" name="newPassword" required />

          <button type="submit">Update Password</button>
        </form>
        <p id="password-feedback" class="feedback"></p>
      </section>

      <!-- Delete Section -->
      <section class="profile-section" id="control-section">
        <h2>Delete My Account</h2>
        <p>
          Delete Your Account: This action is irreversible. If you delete your account, all your data will be
          permanently removed from our system.
        </p>
        <button class="btn btn--danger" id="delete-user">Delete</button>
      </section>
    </section>

    <!-- Campaigner Area -->
    <section class="profile-tab" id="campaigns-tab" style="display: none;">
      <h2>My Campaigns</h2>
      <div id="campaigns-list">
        <!-- Campaign cards injected dynamically -->
      </div>
    </section>

    <!-- Backer Area -->
    <section class="profile-tab" id="pledges-tab" style="display: none;">
      <h2>My Pledges</h2>
      <div id="pledges-list">
        <!-- Pledge cards injected dynamically -->
      </div>
    </section>
  </main>

  <script src="../../js/profile.js" type="module"></script>
</body>

</html>