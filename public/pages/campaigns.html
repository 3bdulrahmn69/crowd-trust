<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crowd Trust - Campaign</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/style.css">
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="container header__container">
      <div class="header__logo">
        <a href="/" class="logo__link" aria-label="CrowdTrust Home">Crowd Trust</a>
      </div>

      <button class="header__toggle-btn" aria-label="Toggle navigation" aria-expanded="false" aria-controls="nav-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>

      <nav class="header__nav" id="nav-menu">
        <ul class="nav__links">
          <li class="nav__item"><a href="/#home" class="nav__link">Home</a></li>
          <li class="nav__item"><a href="/#about" class="nav__link">About</a></li>
          <li class="nav__item"><a href="/#campaigns" class="nav__link">Campaigns</a></li>
          <li class="nav__item"><a href="/#contact" class="nav__link">Contact</a></li>
          <li class="nav__item"><a href="/#faq" class="nav__link">FAQ</a></li>
        </ul>

        <div id="auth_container" class="nav__auth">
          <!-- Show only when user is not logged in -->
          <div id="auth_buttons" class="auth__buttons">
            <a href="/pages/auth/login.html" class="btn btn--primary" id="login_index_btn">Login</a>
            <a href="/pages/auth/register.html" class="btn btn--secondary" id="register_index_btn">Register</a>
          </div>

          <!-- Show only when user is logged in -->
          <div id="user_container" class="auth__profile hidden">
            <button id="user_button" class="btn btn--text">ðŸ‘‹ Username</button>
            <ul id="profile_list" class="profile_list hidden">
              <li><a href="./pages/user/profile.html">View Profile</a></li>
              <li><button class="btn btn--danger btn--full" id="logout_btn">Log Out</>
              </li>
            </ul>
          </div>
        </div>
    </div>
    </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main-content" class="container" tabindex="-1">
    <!-- Campaign Actions -->
    <section class="campaign-actions" aria-label="Campaign Actions">
      <button class="btn btn-primary" id="open-dialog">Create campaign</button>
    </section>

    <!-- Campaigns Listing -->
    <section class="campaign-listing" id="cardContainer" aria-labelledby="campaigns-heading">
      <h1 id="campaigns-heading" class="visually-hidden">Campaigns</h1>
      <div id="campaign-container" class="campaign-container">

      </div>
    </section>
  </main>

  <!-- Create Campaign Dialog -->
  <dialog id="create-dialog" aria-modal="true" class="dialog dialog--create">
    <div class="dialog__modal">
      <div class="dialog__content">
        <div class="dialog__header">
          <h2 class="dialog__title">Create Campaign</h2>
          <button type="button" class="dialog__close" aria-label="Close dialog"
            onclick="document.getElementById('create-dialog').close()">&times;</button>
        </div>
        <form id="create-form" class="dialog__form">
          <!-- Campaign Title -->
          <div class="form-group">
            <label for="create-title" class="form-group__label">Title</label>
            <input type="text" id="create-title" name="title" class="form-group__input" required />
          </div>

          <!-- Description -->
          <div class="form-group">
            <label for="create-description" class="form-group__label">Description</label>
            <textarea id="create-description" name="description" class="form-group__textarea" required></textarea>
          </div>

          <!-- Image Upload -->
          <div class="form-group">
            <label for="create-image" class="form-group__label">Image</label>
            <input type="file" id="create-image" name="image" accept="image/*" class="form-group__file" />
            <img id="create-image-preview" src="" alt="Campaign image preview"
              class="form-group__image-preview hidden" />
          </div>

          <!-- Goal -->
          <div class="form-group">
            <label for="create-goal" class="form-group__label">Goal ($)</label>
            <input type="number" id="create-goal" name="goal" class="form-group__input" required />
          </div>

          <!-- Deadline -->
          <div class="form-group">
            <label for="create-deadline" class="form-group__label">Deadline</label>
            <input type="date" id="create-deadline" name="deadline" class="form-group__input" required />
          </div>

          <!-- Category -->
          <div class="form-group">
            <label for="create-category" class="form-group__label">Category</label>
            <select id="create-category" name="category" class="form-group__select" required>
              <option value="health">Health</option>
              <option value="tech">Tech</option>
              <option value="education">Education</option>
              <option value="environment">Environment</option>
            </select>
          </div>

          <!-- Rewards -->
          <div class="form-group">
            <label class="form-group__label">Rewards</label>
            <div id="create-rewards-container" class="form-group__rewards">
              <!-- Dynamically inserted rewards -->
            </div>
            <button type="button" id="create-add-reward-btn" class="form-group__add-reward">+ Add Reward</button>
          </div>

          <div class="dialog__actions">
            <button type="button" class="btn btn--cancel"
              onclick="document.getElementById('create-dialog').close()">Cancel</button>
            <button type="submit" class="btn btn--submit">Create Campaign</button>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <!-- Campaign Submitted Dialog -->
  <dialog id="submitted-dialog" aria-modal="true" class="dialog dialog--submitted">
    <div class="dialog__modal">
      <div class="dialog__content">
        <div class="dialog__header">
          <h2 class="dialog__title">Campaign Submitted</h2>
          <button type="button" class="dialog__close" aria-label="Close dialog"
            onclick="document.getElementById('submitted-dialog').close()">&times;</button>
        </div>
        <div class="dialog__body">
          <p class="dialog__message">
            Your campaign has been submitted successfully and is awaiting approval. You will be notified once it is
            reviewed.
          </p>
        </div>
        <div class="dialog__actions">
          <button type="button" class="btn btn--primary"
            onclick="document.getElementById('submitted-dialog').close()">OK</button>
        </div>
      </div>
    </div>
  </dialog>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="container footer__container">
      <div class="footer__brand">
        <a href="/" class="logo__link" aria-label="Crowd Trust Home">Crowd Trust</a>
        <p class="footer__description">
          Empowering communities through transparency and trust. Join us to make an impact, one campaign at a time.
        </p>
      </div>
      <nav class="footer__nav" aria-label="Footer Navigation">
        <ul class="footer__links">
          <li><a href="/#home">Home</a></li>
          <li><a href="/#about">About</a></li>
          <li><a href="/#campaigns">Campaigns</a></li>
          <li><a href="/#contact">Contact</a></li>
          <li><a href="/#faq">FAQ</a></li>
        </ul>
      </nav>
      <div class="footer__info">
        <p class="footer__email">Email: <a href="mailto:info@crowdtrust.org">info@crowdtrust.org</a></p>
        <div class="footer__social">
          <a href="#" aria-label="Facebook" class="footer__social-link">Facebook</a>
          <a href="#" aria-label="Twitter" class="footer__social-link">Twitter</a>
          <a href="#" aria-label="LinkedIn" class="footer__social-link">LinkedIn</a>
        </div>
      </div>
    </div>
    <div class="footer__bottom">
      <div class="container">
        <p class="footer__copy">&copy; 2023 Crowd Trust. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="../js/campaign.js" type="module"></script>
</body>

</html>